--- ogdi-3.1.6/ogdi/c-api/makefile.orig	2007-02-12 21:20:04.000000000 +0100
+++ ogdi-3.1.6/ogdi/c-api/makefile	2007-02-20 01:10:44.766427128 +0100
@@ -28,7 +28,7 @@
 		$(GRASS_INCLUDE) $(ZLIB_INCLUDE) $(PROJ_INCLUDE) \
 		$(EXPAT_INCLUDE)
 
-CFLAGS 	= $(INCLUDES) $(COMMON_CFLAGS) -DMODULES_PATH="\"$(INST_LIB)/ogdi/\""
+CFLAGS 	= $(INCLUDES) $(COMMON_CFLAGS) $(SHLIB_CFLAGS) -DMODULES_PATH="\"$(INST_LIB)/ogdi/\""
 
 LINK_LIBS= $(RPC_LINKLIB) $(ZLIB_LINKLIB) $(EXPAT_LINKLIB) $(WIN_LINKLIB) \
 		$(PROJ_STATICLIB) $(MATH_LINKLIB)
--- ogdi-3.1.2/ogdi/datum_driver/canada/makefile.orig	2001-02-19 04:12:21.000000000 +0000
+++ ogdi-3.1.2/ogdi/datum_driver/canada/makefile	2004-01-23 15:54:07.000000000 +0000
@@ -17,7 +17,7 @@
 SOURCES = nadconv.c dtcanada.c
 
 INCLUDES = $(CURRENT_INCLUDE) $(GENERAL_INCLUDE) $(OGDI_INCLUDE) $(PROJ_INCLUDE)
-CFLAGS 	= $(INCLUDES) $(COMMON_CFLAGS)
+CFLAGS 	= $(INCLUDES) $(COMMON_CFLAGS) $(SHLIB_CFLAGS)
 
 LINK_LIBS= 
 
--- ogdi-3.1.2/ogdi/datum_driver/usa/makefile.orig	2001-02-19 04:12:21.000000000 +0000
+++ ogdi-3.1.2/ogdi/datum_driver/usa/makefile	2004-01-23 15:57:44.000000000 +0000
@@ -17,7 +17,7 @@
 SOURCES = dtusa.c
 
 INCLUDES = $(CURRENT_INCLUDE) $(GENERAL_INCLUDE) $(OGDI_INCLUDE) $(PROJ_INCLUDE)
-CFLAGS 	= $(INCLUDES) $(COMMON_CFLAGS)
+CFLAGS 	= $(INCLUDES) $(COMMON_CFLAGS) $(SHLIB_CFLAGS)
 
 LINK_LIBS= $(PROJ_STATICLIB)
 
--- ogdi-3.1.2/ogdi/driver/adrg/makefile.orig	2001-06-22 16:37:50.000000000 +0000
+++ ogdi-3.1.2/ogdi/driver/adrg/makefile	2004-01-23 16:00:08.000000000 +0000
@@ -18,7 +18,7 @@
 
 INCLUDES = $(CURRENT_INCLUDE) $(GENERAL_INCLUDE) $(OGDI_INCLUDE) $(PROJ_INCLUDE)
 
-CFLAGS 	= $(INCLUDES) $(COMMON_CFLAGS)
+CFLAGS 	= $(INCLUDES) $(COMMON_CFLAGS) $(SHLIB_CFLAGS)
 
 LINK_LIBS= $(OGDI_LINKLIB) $(GLUTIL_STATICLIB) 
 
--- ogdi-3.1.2/ogdi/driver/dted/makefile.orig	2001-02-19 04:12:21.000000000 +0000
+++ ogdi-3.1.2/ogdi/driver/dted/makefile	2004-01-23 16:04:23.000000000 +0000
@@ -17,7 +17,7 @@
 SOURCES = dted.c utils.c object.c
 
 INCLUDES = $(CURRENT_INCLUDE) $(GENERAL_INCLUDE) $(OGDI_INCLUDE) $(PROJ_INCLUDE)
-CFLAGS 	= $(INCLUDES) $(COMMON_CFLAGS)
+CFLAGS 	= $(INCLUDES) $(COMMON_CFLAGS) $(SHLIB_CFLAGS)
 
 LINK_LIBS= $(OGDI_LINKLIB)  $(GLUTIL_STATICLIB) 
 
--- ogdi-3.1.2/ogdi/driver/rpf/makefile.orig	2001-02-19 04:12:21.000000000 +0000
+++ ogdi-3.1.2/ogdi/driver/rpf/makefile	2004-01-23 16:07:10.000000000 +0000
@@ -19,7 +19,7 @@
 INCLUDES = $(CURRENT_INCLUDE) $(GENERAL_INCLUDE) $(OGDI_INCLUDE) \
 	   $(GRASS_INCLUDE) $(PROJ_INCLUDE)
 
-CFLAGS 	= $(INCLUDES) $(COMMON_CFLAGS)
+CFLAGS 	= $(INCLUDES) $(COMMON_CFLAGS) $(SHLIB_CFLAGS)
 
 LINK_LIBS= $(OGDI_LINKLIB) $(VPF_STATICLIB) $(GLUTIL_STATICLIB) $(WIN_LINKLIB) $(MATH_LINKLIB)
 
--- ogdi-3.1.2/ogdi/driver/vrf/makefile.orig	2001-06-20 21:49:31.000000000 +0000
+++ ogdi-3.1.2/ogdi/driver/vrf/makefile	2004-01-23 16:09:30.000000000 +0000
@@ -17,7 +17,7 @@
 SOURCES = vrf.c utils.c feature.c object.c open.c swq.c vrfswq.c
 
 INCLUDES = $(CURRENT_INCLUDE) $(GENERAL_INCLUDE) $(OGDI_INCLUDE) $(VPF_INCLUDE) $(PROJ_INCLUDE) $(GLUTIL_INCLUDE)
-CFLAGS 	= $(INCLUDES) $(COMMON_CFLAGS)
+CFLAGS 	= $(INCLUDES) $(COMMON_CFLAGS) $(SHLIB_CFLAGS)
 
 LINK_LIBS= $(OGDI_LINKLIB) $(WIN_LINKLIB) $(VPF_STATICLIB) $(MATH_LINKLIB)
 
--- ogdi-3.1.2/vpflib/makefile.orig	2001-02-20 04:25:20.000000000 +0000
+++ ogdi-3.1.2/vpflib/makefile	2004-01-23 16:14:12.000000000 +0000
@@ -30,7 +30,8 @@
 
 INCLUDES = $(CURRENT_INCLUDE) $(GENERAL_INCLUDE) $(VPF_INCLUDE)
 
-CFLAGS 	= $(INCLUDES) $(COMMON_CFLAGS) $(UNIX_DEFINE) \
+# static lib, but linked into shared module - needs PIC
+CFLAGS 	= $(INCLUDES) $(COMMON_CFLAGS) $(UNIX_DEFINE) $(SHLIB_CFLAGS) \
 	-DSYS_BIG_ENDIAN=$(BIG_ENDIAN)
 
 include $(TOPDIR)/config/common.mak
--- ogdi-3.1.2/ogdi/driver/skeleton/makefile.orig	2001-02-19 04:12:21.000000000 +0000
+++ ogdi-3.1.2/ogdi/driver/skeleton/makefile	2004-01-23 16:16:58.000000000 +0000
@@ -18,7 +18,7 @@
 
 INCLUDES = $(CURRENT_INCLUDE) $(GENERAL_INCLUDE) $(OGDI_INCLUDE) $(GLUTIL_INCLUDE) $(PROJ_INCLUDE)
 
-CFLAGS 	= $(INCLUDES) $(MACHINE) $(COMMON_CFLAGS)
+CFLAGS 	= $(INCLUDES) $(MACHINE) $(COMMON_CFLAGS) $(SHLIB_CFLAGS)
 
 LINK_LIBS= $(OGDI_LINKLIB) $(GLUTIL_STATICLIB)
 
--- ogdi-3.1.2/ogdi/tcl_interface/makefile.orig	2001-02-19 04:12:21.000000000 +0000
+++ ogdi-3.1.2/ogdi/tcl_interface/makefile	2004-01-23 16:20:42.000000000 +0000
@@ -17,7 +17,7 @@
 SOURCES = ecs_tcl.c
 
 INCLUDES = $(CURRENT_INCLUDE) $(GENERAL_INCLUDE) $(TCL_INCLUDE) $(OGDI_INCLUDE) $(PROJ_INCLUDE)
-CFLAGS 	= $(INCLUDES) $(COMMON_CFLAGS)
+CFLAGS 	= $(INCLUDES) $(COMMON_CFLAGS) $(SHLIB_CFLAGS)
 
 LINK_LIBS= $(OGDI_LINKLIB) $(TCL_LINKLIB) $(MATH_LINKLIB)
 
--- ogdi-3.1.2/contrib/gdal/makefile.orig	2001-05-04 03:13:35.000000000 +0000
+++ ogdi-3.1.2/contrib/gdal/makefile	2004-01-23 16:23:46.000000000 +0000
@@ -11,7 +11,7 @@
 
 INCLUDES = $(CURRENT_INCLUDE) $(GENERAL_INCLUDE) $(OGDI_INCLUDE) \
 	$(PROJ_INCLUDE)
-CFLAGS 	= $(INCLUDES) $(COMMON_CFLAGS)
+CFLAGS 	= $(INCLUDES) $(COMMON_CFLAGS) $(SHLIB_CFLAGS)
 
 LINK_LIBS= $(OGDI_LINKLIB) $(GUTIL_LINKLIB)
 
--- ogdi-3.1.2/ogdi/attr_driver/odbc/makefile.orig	2001-02-19 04:12:21.000000000 +0000
+++ ogdi-3.1.2/ogdi/attr_driver/odbc/makefile	2004-01-23 16:26:58.000000000 +0000
@@ -18,7 +18,7 @@
 
 INCLUDES = $(CURRENT_INCLUDE) $(GENERAL_INCLUDE) \
 	   $(OGDI_INCLUDE) $(PROJ_INCLUDE)
-CFLAGS 	= $(INCLUDES) $(COMMON_CFLAGS)
+CFLAGS 	= $(INCLUDES) $(COMMON_CFLAGS) $(SHLIB_CFLAGS)
 
 LINK_LIBS= $(ODBC_LINKLIB)
 
--- ogdi-3.1.2/ogdi/driver/network/makefile.orig	2001-02-19 05:12:21.000000000 +0100
+++ ogdi-3.1.2/ogdi/driver/network/makefile	2004-01-23 18:26:57.148973268 +0100
@@ -17,7 +17,7 @@
 SOURCES = remote.c ecs_clnt.c 
 
 INCLUDES = $(CURRENT_INCLUDE) $(GENERAL_INCLUDE) $(OGDI_INCLUDE) $(GRASS_INCLUDE) $(PROJ_INCLUDE)
-CFLAGS 	= $(INCLUDES) $(COMMON_CFLAGS)
+CFLAGS 	= $(INCLUDES) $(COMMON_CFLAGS) $(SHLIB_CFLAGS)
 
 LINK_LIBS= $(OGDI_LINKLIB) $(RPC_LINKLIB) $(WIN_LINKLIB)  
 
